import{r as d,j as e,H as f,m as g}from"./index-D9x9yDo8.js";const c=s=>s.toISOString().split("T")[0],y=()=>{const s=new Date,[n,i]=d.useState(c(s)),[l,x]=d.useState(c(s)),m=async()=>{const a=r=>{const o=new Date(r),t=o.getDate().toString().padStart(2,"0"),b=o.toLocaleString("default",{month:"short"}),w=o.getFullYear();return`${t}-${b}-${w}`},p=a(n),u=a(l),h=`${p} to ${u} Test-Portal Report.xlsx`;try{const r=await g.get("undefined/admin/download-testReport",{params:{startDate:n,endDate:l},responseType:"blob"}),o=window.URL.createObjectURL(new Blob([r.data])),t=document.createElement("a");t.href=o,t.setAttribute("download",h),document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(o)}catch(r){console.error(r),alert("Something went wrong while downloading the report.")}};return e.jsxs("div",{className:"w-full",children:[e.jsx(f,{children:e.jsx("title",{children:"Test Report | Admin Panel"})}),e.jsx("div",{className:"mb-6 bg-yellow-500 text-center border border-white rounded-md py-1 drop-shadow-[2px_2px_2px_rgba(0,0,0,0.6)]",children:e.jsx("h1",{className:"text-2xl font-semibold  drop-shadow-[2px_2px_2px_rgba(0,0,0,0.6)]",children:"Test Report"})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center md:justify-start gap-4",children:[e.jsxs("div",{className:"flex flex-col w-full max-w-xs",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:n,onChange:a=>i(a.target.value),className:"border border-gray-400 rounded-md px-4 py-2 text-black focus:outline-none"})]}),e.jsx("div",{className:"text-xl font-bold text-gray-400 hidden md:block mt-5",children:"to"}),e.jsxs("div",{className:"flex flex-col w-full max-w-xs",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:l,onChange:a=>x(a.target.value),className:"border border-gray-400 rounded-md px-4 py-2 text-black focus:outline-none"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-md transition duration-300",children:"Download Report"})})]})};export{y as default};
