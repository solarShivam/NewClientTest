import{r as s,a as S,d as I,j as e,m as C}from"./index-D9x9yDo8.js";function _({title:l,titleId:o,...n},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},n),l?s.createElement("title",{id:o},l):null,s.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6 6 0 0 0-5.98 6.496A5.25 5.25 0 0 0 6.75 20.25H18a4.5 4.5 0 0 0 2.206-8.423 3.75 3.75 0 0 0-4.133-4.303A6.001 6.001 0 0 0 10.5 3.75Zm2.03 5.47a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.72-1.72v4.94a.75.75 0 0 0 1.5 0v-4.94l1.72 1.72a.75.75 0 1 0 1.06-1.06l-3-3Z",clipRule:"evenodd"}))}const F=s.forwardRef(_),D=()=>{var u;const l=S(),n=(u=I().state)==null?void 0:u.testId,[a,c]=s.useState(null),[f,h]=s.useState(""),[g,d]=s.useState(!1),[b,w]=s.useState([]),y=r=>{c(r.target.files[0])},j=async r=>{var x,p;if(r.preventDefault(),!a){alert("Please select a file before submitting.");return}const m=n;if(!m){alert("Test ID is missing . Please create a test first.");return}const i=new FormData;i.append("file",a),i.append("testId",m);try{const t=await C.post("undefined/admin/upload-quesFile",i,{headers:{"Content-Type":"multipart/form-data"}});t.data.success?(alert("File uploaded successfully!"),h(t.data.message),d(!0),w(t.data.data||[]),c(null),document.getElementById("fileInput").value=""):alert("File upload failed. Please try again.")}catch(t){alert(` ${(p=(x=t==null?void 0:t.response)==null?void 0:x.data)==null?void 0:p.message}`)}},v=()=>{d(!1)},N=()=>{d(!1),l("/admin/showinvaliduploadques",{state:{id:n,invalidQuestions:b}})};return e.jsxs("div",{className:" flex flex-col justify-center items-center bg-gray-100 ",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-lg w-full max-w-4xl p-6",children:[e.jsx("h1",{className:"text-2xl font-bold bg-yellow-500 text-center mb-7 mt-4 py-2 rounded-md shadow-2xl drop-shadow-[2px_2px_3px_rgba(0,0,0,0.6)]",children:e.jsx("span",{className:"drop-shadow-[2px_2px_3px_rgba(0,0,0,0.6)]",children:"Add Questions to Test "})}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsx("div",{className:"flex flex-col items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition",children:e.jsxs("label",{className:"flex flex-col items-center cursor-pointer",children:[e.jsx(F,{className:"w-12 h-12 text-blue-500"}),e.jsx("span",{className:"text-gray-700 font-medium mt-2",children:a?a.name:"Click to Upload or Drag & Drop"}),e.jsx("input",{id:"fileInput",type:"file",onChange:y,className:"hidden"})]})}),e.jsx("button",{type:"submit",className:"w-full bg-red-500 text-white font-semibold py-2 rounded-md hover:bg-red-600 drop-shadow-[2px_2px_3px_rgba(0,0,0,0.6)]",children:"Submit"})]})]}),g&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Upload Status"}),e.jsx("p",{className:" text-gray-600",children:f}),e.jsxs("div",{className:"flex justify-between space-x-4 mt-4",children:[e.jsx("button",{onClick:v,className:"bg-gray-400 text-white px-4 py-2 rounded hover:bg-gray-500",children:"OK"}),e.jsx("button",{onClick:N,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"See Invalid Questions"})]})]})})]})};export{D as default};
