import{r as d,a as y,u as w,e as f,f as j,j as e,H as N,L as v,T as P,g as S,F as k,h as $,i as L,k as C}from"./index-DlEiKHF4.js";function E(){const[i,m]=d.useState(!1),[c,g]=d.useState(!1),[r,x]=d.useState("login"),n=y(),{isDark:s}=w(),{register:o,handleSubmit:h,watch:p,formState:{errors:t}}=f(),u=async a=>{g(!0);try{r==="login"?(console.log("Logging in with:",a),await new Promise(l=>setTimeout(l,1500)),n("/dashboard")):(console.log("Signing up with:",a),await new Promise(l=>setTimeout(l,1500)),n("/dashboard"))}catch{alert("Something went wrong")}finally{g(!1)}},b=j({onSuccess:async a=>{try{console.log("Google token:",a),n("/dashboard")}catch(l){console.error("Login failed",l),alert("Google login failed. Please try again.")}},onError:a=>{console.error("Google login error",a),alert("Google login failed. Please try again.")}});return e.jsxs(e.Fragment,{children:[e.jsxs(N,{children:[e.jsx("title",{children:r==="login"?"Candidate Login - Test Portal":"Candidate Sign Up - Test Portal"}),e.jsx("meta",{name:"description",content:"Secure candidate login/signup page for the test portal."})]}),e.jsx("div",{className:` flex items-center justify-center ${s?"bg-gray-900 text-white":"bg-white text-black"}`,children:e.jsx("div",{className:"w-full flex justify-center items-center p-6 relative",children:e.jsxs("div",{className:`rounded-lg p-8 w-full max-w-md min-h-[500px] relative
              ${s?"bg-gray-800 text-white shadow-[0_0_20px_4px_#ff7e00] border border-[#ff7e00]":"bg-white text-black shadow-[0px_4px_5px_5px_#393E46]"}`,style:{borderRadius:"1rem"},children:[r==="login"?e.jsxs("h2",{className:"absolute right-[-74px] top-1/2 -translate-y-1/2 text-yellow-500 font-bold text-5xl rotate-90 z-10",children:["Login",e.jsx("span",{className:"absolute inset-0 text-white",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 65%, 0% 65%)"},children:"Login"})]}):e.jsxs("h2",{className:"absolute right-[-95px] top-1/2 -translate-y-1/2 text-yellow-500 font-bold text-5xl rotate-90 z-10",children:["Sign Up",e.jsx("span",{className:"absolute inset-0 text-white",style:{clipPath:"polygon(0% 0%, 100% 0%, 100% 65%, 0% 65%)"},children:"Sign Up"})]}),e.jsxs("form",{onSubmit:h(u),className:"space-y-4 mt-10",children:[e.jsxs("div",{children:[e.jsx("label",{className:`font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"User Name"}),e.jsxs("div",{className:`relative flex items-center rounded-lg border-2 ${s?"border-gray-600 bg-gray-700":"border-gray-300 bg-white"}`,children:[e.jsx(v,{className:"absolute left-3 text-gray-400 text-xl"}),e.jsx("input",{type:"text",...o("userId",{required:"User ID is required"}),placeholder:"User ID...",className:`w-full py-2 pl-10 pr-4 border-none focus:outline-none ${s?"bg-gray-700 text-white placeholder-gray-400":"bg-white text-black placeholder-gray-500"}`})]}),t.userId&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.userId.message})]}),r==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:`font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"Email"}),e.jsxs("div",{className:`relative flex items-center rounded-lg border-2 ${s?"border-gray-600 bg-gray-700":"border-gray-300 bg-white"}`,children:[e.jsx(P,{className:"absolute left-3 text-gray-500 text-xl"}),e.jsx("input",{type:"email",...o("email",{required:"Email is required"}),placeholder:"Email...",className:`w-full py-2 pl-10 pr-4 border-none focus:outline-none ${s?"bg-gray-700 text-white placeholder-gray-300":"bg-white text-black placeholder-gray-500"}`})]}),t.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:`font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"Password"}),e.jsxs("div",{className:`relative flex items-center rounded-lg border-2 ${s?"border-gray-600 bg-gray-700":"border-gray-300 bg-white"}`,children:[e.jsx(S,{className:"absolute left-3 text-gray-400 text-xl"}),e.jsx("input",{type:i?"text":"password",...o("password",{required:"Password is required"}),placeholder:"Password...",className:`w-full py-2 pl-10 pr-4 border-none focus:outline-none ${s?"bg-gray-700 text-white placeholder-gray-400":"bg-white text-black placeholder-gray-500"}`}),e.jsx("div",{onClick:()=>m(!i),className:"absolute right-3 text-gray-500 text-xl cursor-pointer",children:i?e.jsx(k,{}):e.jsx($,{})})]}),t.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.password.message})]}),r==="signup"&&e.jsxs("div",{children:[e.jsx("label",{className:`font-semibold ${s?"text-gray-200":"text-gray-700"}`,children:"Confirm Password"}),e.jsx("input",{type:"password",...o("confirmPassword",{required:"Please confirm your password",validate:a=>a===p("password")||"Passwords do not match"}),placeholder:"Confirm Password...",className:`w-full py-2 px-4 border-2 rounded-lg focus:outline-none ${s?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-black placeholder-gray-500"}`}),t.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:c,className:`w-full flex items-center justify-center py-2 rounded-lg font-semibold 
                            drop-shadow-[2px_2px_2px_rgba(0,0,0,0.6)] 
                            ${s?"text-white bg-yellow-600 hover:bg-yellow-700":"text-black bg-[#FDC700] hover:bg-yellow-500"}`,children:c?e.jsx(L,{className:"animate-spin text-xl"}):r==="login"?"Login":"Sign Up"}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"flex-grow h-px bg-gray-300"}),e.jsx("span",{className:"px-4 text-gray-500 text-sm font-medium",children:"or"}),e.jsx("div",{className:"flex-grow h-px bg-gray-300"})]}),e.jsxs("button",{type:"button",onClick:b,className:`w-full mt-4 flex items-center justify-center gap-2 py-2 px-4 border rounded-lg transition-all duration-150 ${s?"bg-gray-700 border-gray-600 text-white hover:bg-gray-600":"bg-white border-gray-300 text-black hover:bg-gray-100"}`,children:[e.jsx(C,{className:"text-xl"}),e.jsx("span",{className:"text-sm font-medium",children:"Continue with Google"})]}),e.jsx("p",{className:"text-center text-sm mt-4",children:r==="login"?e.jsxs(e.Fragment,{children:["Don't have an account?"," ",e.jsx("span",{className:"text-red-500 cursor-pointer",onClick:()=>x("signup"),children:"Sign Up"})]}):e.jsxs(e.Fragment,{children:["Already have an account?"," ",e.jsx("span",{className:"text-blue-500 cursor-pointer",onClick:()=>x("login"),children:"Login"})]})})]})]})})})]})}export{E as default};
